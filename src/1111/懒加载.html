<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    img{
      display: none;
    }
    .lazy {
      display: block;
    }
  </style>
</head>
<body>
  <!-- 你的图片列表 -->
  <img class="lazy" data-src="https://picsum.photos/200/300" alt="">
  <br>
  <img class="lazy" data-src="https://picsum.photos/200/300" alt="">
  <br>
  <img class="lazy" data-src="https://picsum.photos/200/300" alt="">
  <br>
  <img class="lazy" data-src="https://picsum.photos/200/300" alt="">
  <br>
  <img class="lazy" data-src="https://picsum.photos/300/300" alt="">
  <br>
  <img class="lazy" data-src="https://picsum.photos/400/300" alt="">

  <script>
    // 获取所有带有lazy类的图片
    const imgs = document.querySelectorAll('.lazy');

    // 创建一个Intersection Observer实例
    let observer = new IntersectionObserver((entries) => {
      // 遍历所有被观察的对象
      entries.forEach(entry => {
        // 如果元素在视口中
        if (entry.isIntersecting) {
          // 将图片的src属性设置为data-src的值
          entry.target.src = entry.target.getAttribute('data-src');
          // 移除观察
          observer.unobserve(entry.target);
        }
      });
    });

    // 将所有的图片添加到观察列表中
    imgs.forEach(img => {
      observer.observe(img);
    });
  </script>
</body>
</html>
